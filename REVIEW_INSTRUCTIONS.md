# ⚠️ REVIEW INSTRUCTIONS

> Generated by Gemini

```toml
[review]
summary = "The introduction of a Python script for direct database manipulation in a Node.js/TypeScript repository presents significant security and architectural risks. It creates a 'shadow' administration interface that bypasses application-level validation, authorization, and audit logging. Additionally, it introduces unmanaged Python dependencies into a Node.js environment. These utilities should be implemented in TypeScript within the application's existing architecture."
decision = "REQUEST_CHANGES"

[[issues]]
severity = "critical"
file = ".claude/scripts/user_utils.py"
line = 1
title = "Security Risk: Bypass of Application Logic (Shadow IT)"
description = "The script creates a direct connection to `users.db` to perform sensitive operations (updating emails, deleting users) using raw SQL. This completely bypasses the application's API, Service layer, and ORM, meaning no application-level security checks, input validation, or audit logs are triggered. This increases the risk of data corruption and unauthorized account modification."
suggestion = "Remove this Python script. If administrative utilities are required, implement them in TypeScript (e.g., as a CLI task) that imports and utilizes the existing User Service or Model definitions to ensure business rules and security controls are enforced."

[[issues]]
severity = "important"
file = ".claude/scripts/user_utils.py"
line = 1
title = "Ecosystem Mismatch and Unmanaged Dependencies"
description = "Adding a Python script with external dependencies (`bcrypt`) to a Node.js/TypeScript repository creates a fractured build environment. There is no `requirements.txt` or Python environment setup provided, making this script difficult to maintain and run reliably in CI/CD or other developer environments."
suggestion = "Rewrite any necessary utility logic in TypeScript, leveraging the project's existing `package.json` dependencies for hashing and database access."

[[issues]]
severity = "important"
file = ".claude/scripts/user_utils.py"
line = 1
title = "Production Deployment Risk"
description = "The file is placed in `.claude/scripts/`. Unless this directory is explicitly excluded in `.dockerignore`, `.npmignore`, or deployment pipelines, this creates a risk of deploying a backdoor administration tool to the production environment."
suggestion = "Ensure strict exclusion rules are in place for the `.claude` directory in all deployment configurations. Ideally, do not commit such 'internal sandbox' scripts to the shared repository."
```