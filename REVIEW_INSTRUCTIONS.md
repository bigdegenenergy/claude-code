# ⚠️ REVIEW INSTRUCTIONS

> Generated by Gemini

```json
{
  "review": {
    "summary": "This PR introduces extensive AI automation capabilities but requires significant corrections before merging. Major issues include the accidental inclusion of a review artifact (`REVIEW_INSTRUCTIONS.md`), reference to non-existent/future model IDs that will break execution, insecure unpinned package execution in the MCP template, and a 'Confused Deputy' vulnerability in the research-implement workflow.",
    "decision": "REQUEST_CHANGES"
  },
  "issues": [
    {
      "id": 1,
      "severity": "important",
      "file": "REVIEW_INSTRUCTIONS.md",
      "line": 1,
      "title": "Accidental file commit",
      "description": "The file `REVIEW_INSTRUCTIONS.md` appears to be a generated artifact or internal review note that describes bugs in this very PR. It should not be part of the codebase.",
      "suggestion": "Remove `REVIEW_INSTRUCTIONS.md` from the PR."
    },
    {
      "id": 2,
      "severity": "critical",
      "file": ".github/workflows/claude-auto-implement.yml",
      "line": 0,
      "title": "Invalid Model IDs",
      "description": "The workflow references `claude-opus-4-5-20251101`. This model ID is not currently valid (referencing a future date). Using invalid model IDs will cause the API requests to fail immediately.",
      "suggestion": "Use currently available model IDs (e.g., `claude-3-opus-20240229` or `claude-3-5-sonnet-20240620`) unless this relies on a specific private beta configuration not visible here."
    },
    {
      "id": 3,
      "severity": "critical",
      "file": ".github/workflows/claude-research-implement.yml",
      "line": 0,
      "title": "Confused Deputy Vulnerability",
      "description": "The `implement` job parses the 'Implementation Plan' from issue comments. If the parsing logic retrieves the latest matching comment without verifying the author, a malicious user (without write access) could inject a fake plan. A maintainer triggering `@claude implement plan` would then inadvertently execute the malicious user's code.",
      "suggestion": "Modify the plan retrieval logic to strictly filter for comments authored by the Claude bot or users with `maintainer`/`admin` permissions."
    },
    {
      "id": 4,
      "severity": "important",
      "file": ".github/mcp-config.json.template",
      "line": 0,
      "title": "Insecure Package Execution",
      "description": "The template uses `npx -y` with unpinned packages (e.g., `npx -y @modelcontextprotocol/server-postgres`). This exposes the environment to supply chain attacks if a malicious version of the package is published.",
      "suggestion": "Pin the package versions in the command arguments (e.g., `npx -y @modelcontextprotocol/server-postgres@1.0.0`)."
    }
  ]
}
```