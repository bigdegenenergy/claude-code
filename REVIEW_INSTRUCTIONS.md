# ⚠️ REVIEW INSTRUCTIONS

> Generated by Gemini

```toml
[review]
summary = "The PR introduces significant improvements to the AI agent workflows, including better SDK isolation and a clearer interaction model (/accept command). However, there is a blocking bug in the module resolution logic that will cause the implementation script to fail, and a generated review artifact has been accidentally committed."
decision = "REQUEST_CHANGES"

[[issues]]
severity = "critical"
file = ".github/scripts/claude-code-implement.cjs"
line = 1
title = "Broken module resolution path"
description = "The script attempts to load the SDK using `path.join(sdkPath, '@anthropic-ai/claude-code')`. In the workflow, `SDK_PATH` is set to `_trusted_scripts/.github/scripts`. `npm install` creates a `node_modules` directory inside that path. Therefore, the constructed path `_trusted_scripts/.github/scripts/@anthropic-ai/claude-code` will not exist; it needs to include `node_modules`. This will cause the script to crash with `MODULE_NOT_FOUND`."
suggestion = "Update the require call to include `node_modules`: `require(path.join(sdkPath, 'node_modules', '@anthropic-ai/claude-code'))`."

[[issues]]
severity = "important"
file = "REVIEW_INSTRUCTIONS.md"
line = 1
title = "Transient artifact included in PR"
description = "The `REVIEW_INSTRUCTIONS.md` file appears to be a generated artifact containing the output of a review run. This file should be ephemeral and not committed to the repository source."
suggestion = "Remove `REVIEW_INSTRUCTIONS.md` from the PR."

[[issues]]
severity = "suggestion"
file = ".github/workflows/gemini-pr-review-plus.yml"
line = 1
title = "Destructive git reset strategy"
description = "Replacing `git pull --rebase` with `git reset --hard origin/${{ github.head_ref }}` effectively discards any local changes in the runner workspace. While this prevents merge conflicts, ensure that the generation of `REVIEW_INSTRUCTIONS.md` (or any other artifacts intended to be committed) happens *after* this git reset step within the job execution order."
suggestion = "Verify the workflow step order to ensure the file generation step occurs after the git reset."
```